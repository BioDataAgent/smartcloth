# 智能穿衣助理 (Smart Clothing Assistant)

一个基于 Google ADK 开发的智能穿衣推荐 Agent，能够根据天气数据提供科学的穿衣和行李建议。

## ✨ 功能特点

- 🌡️ **实时天气获取**：使用 Open-Meteo API 获取准确的天气数据（无需 API Key）
- 🧮 **科学体感计算**：综合考虑温度、风速、湿度等因素，计算准确的体感温度
- 👕 **多维度穿衣决策**：采用洋葱式穿衣法，区分湿冷、湿热等极端场景
- 🎯 **场景化推荐**：
  - 湿热桑拿天：速干排汗方案
  - 湿冷魔法伤害：防风拨水方案
  - 强风加固：避免易兜风衣物
  - 浓雾预警：高可见度建议
  - 矛盾天气权衡：高温强风综合考量
- 📊 **交叉验证**：同时使用自研算法和官方 API 体感温度，确保准确性
- 📝 **详细日志**：完整的执行轨迹日志，方便调试和展示

## 🚀 快速开始

### 安装依赖

```bash
pip install -r requirements.txt
```

### 使用示例

```python
from my_agent01.agent import clothing_assistant, query_with_logging

# 使用带日志的查询函数（推荐）
response = query_with_logging(clothing_assistant, "北京后天天气")

# 或直接使用智能体
response = clothing_assistant.query("上海明天")
```

也可以运行示例文件：

```bash
python example.py
```

## 📁 项目结构

```
my_agent01/
├── __init__.py          # 包初始化文件
├── agent.py             # 智能体配置和指令
├── tools.py             # 工具函数（天气获取、体感计算、穿衣匹配）
├── requirements.txt     # 项目依赖
├── example.py           # 使用示例
├── LICENSE              # MIT 许可证
├── README.md            # 项目说明文档
└── .gitignore           # Git 忽略文件
```

## 🛠️ 核心工具函数

### Get_Weather
获取指定城市和日期的天气信息
- 支持相对日期（今天、明天、后天等）
- 自动地理编码（城市名转经纬度）
- 返回温度、湿度、风力、降水概率等完整数据

### Calc_RealFeel
科学计算体感温度
- 低温区：考虑风寒效应（非线性关系）
- 高温区：考虑湿度影响
- 湿冷修正：南方冬雨场景的特殊处理

### Match_Clothing
多维度场景化穿衣决策
- 基于体感温度的核心穿搭
- 环境因素补充建议（防风、防雨、防潮）
- 智能鞋履推荐
- 详细决策逻辑说明

## 📊 输出示例

```
🌡️ **气象看板**：北京 2025-12-28 实际温度 8°C/2°C，但受 4级大风 与 85%高湿度 影响，**体感仅为 -2.3°C**（官方API参考值：-1.5°C，用于交叉验证）。

👕 **穿搭方案**：建议采用**洋葱式穿衣法**。

* **核心层**：羽绒服/厚大衣 + 毛衣 + 保暖长裤 + 保暖鞋

* **防护层**：外层建议选择【防风材质】（如冲锋衣或皮衣）以减少热量流失 | 【防潮提醒】：空气潮湿，建议选择不容易吸湿的合成纤维外套

* **配饰建议**：围巾、手套

* **鞋履推荐**：防水靴或防拨水运动鞋

🎒 **行李提醒**：
* 由于降水概率达 30%，建议携带折叠伞备用
* 体感已近冰点，建议加带一条围巾保护颈椎

💡 **决策逻辑**：基于体感-2.3°C判断。 检测到湿冷环境（温度8°C，湿度88%），已强化防风拨水方案，避免衣物受潮失去保暖性；考虑4级强风降温影响，已添加防风层。 【多因素关联】极高湿度且无降水，可能存在浓雾，已优化为浓雾预警方案。
```

## 🔧 技术栈

- **Google ADK (Agent Development Kit)**：智能体开发框架
- **Open-Meteo API**：免费天气数据 API
- **Python 3.11+**：开发语言

## 📝 开发日志

项目包含完整的日志回调机制：
- `[思考]`：分析用户查询
- `[行动]`：调用工具函数
- `[结果]`：工具执行结果

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

## 📄 许可证

MIT License

## 🙏 致谢

- Open-Meteo 提供免费的天气数据 API
- Google ADK 提供强大的智能体开发框架

